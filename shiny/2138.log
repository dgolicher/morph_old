conn=0xbae6000, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xbae6000, query=' '
conn=0xbae6000, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xbae6000, query='set DateStyle to 'ISO''
conn=0xbae6000, query='set extra_float_digits to 2'
conn=0xbae6000, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xbae6000, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xbae6000, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xbae6000, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xbae6000, stmt=0xb4586e0, result=0x96226c0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb4586e0'
                 ----------------QResult Info -------------------------------
                 fields=0xb61e560, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0x77b3c90, conn=0xbae6000, status=1, num_stmts=16
            sock=0x6d75bb0, stmts=0xb44ed80, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=16, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=167394656, buffer_out=188155568
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xbae6000, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xbae6000, stmt=0x784bd20, result=0x9b244f0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x784bd20'
                 ----------------QResult Info -------------------------------
                 fields=0x6007df0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0x77b3c90, conn=0xbae6000, status=1, num_stmts=16
            sock=0x6d75bb0, stmts=0xb44ed80, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=16, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=167394656, buffer_out=188155568
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x7f55340, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x7f55340, query=' '
conn=0x7f55340, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x7f55340, query='set DateStyle to 'ISO''
conn=0x7f55340, query='set extra_float_digits to 2'
conn=0x7f55340, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x7f55340, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x7f55340, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x7f55340, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0xbb51ce0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xbb51ce0, query=' '
conn=0xbb51ce0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xbb51ce0, query='set DateStyle to 'ISO''
conn=0xbb51ce0, query='set extra_float_digits to 2'
conn=0xbb51ce0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xbb51ce0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xbb51ce0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xbb51ce0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xbb51ce0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xbc1d530, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xbc1d530, query=' '
conn=0xbc1d530, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xbc1d530, query='set DateStyle to 'ISO''
conn=0xbc1d530, query='set extra_float_digits to 2'
conn=0xbc1d530, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xbc1d530, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xbc1d530, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xbc1d530, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0x98291c0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x98291c0, query=' '
conn=0x98291c0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x98291c0, query='set DateStyle to 'ISO''
conn=0x98291c0, query='set extra_float_digits to 2'
conn=0x98291c0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x98291c0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x98291c0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x98291c0, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0x9955dc0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x9955dc0, query=' '
conn=0x9955dc0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x9955dc0, query='set DateStyle to 'ISO''
conn=0x9955dc0, query='set extra_float_digits to 2'
conn=0x9955dc0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x9955dc0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x9955dc0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x9955dc0, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.tide from
grat gg,
(select g.rid,min(tide) tide from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
ERROR from backend during send_query: 'ERROR:  column "tide" does not exist at character 99'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x9955dc0, stmt=0xb42e4b0, result=0xb93a2f0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=7, statement='
drop table if exists tmp;
create table tmp as
select gg.*,s.tide from
grat gg,
(select g.rid,min(tide) tide from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
                 stmt_with_params='
drop table if exists tmp;
create table tmp as
select gg.*,s.tide from
grat gg,
(select g.rid,min(tide) tide from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb42e4b0'
                 ----------------QResult Info -------------------------------
                 fields=0xbc21940, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  column "tide" does not exist at character 99', command='DROP TABLE', notice='NOTICE:  table "tmp" does not exist, skipping'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  column "tide" does not exist at character 99'
            ------------------------------------------------------------
            henv=0x77b3c90, conn=0x9955dc0, status=1, num_stmts=16
            sock=0xa2d7b10, stmts=0x3753b80, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=21, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=195330800, buffer_out=166231120
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x9955dc0, PGAPI_Disconnect
conn=0x98291c0, PGAPI_Disconnect
conn=0xbc1d530, PGAPI_Disconnect
conn=0xbb51ce0, PGAPI_Disconnect
conn=0x7f55340, PGAPI_Disconnect
conn=0xbae6000, PGAPI_Disconnect
conn=0xc8afd30, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xc8afd30, query=' '
conn=0xc8afd30, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xc8afd30, query='set DateStyle to 'ISO''
conn=0xc8afd30, query='set extra_float_digits to 2'
conn=0xc8afd30, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xc8afd30, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xc8afd30, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc8afd30, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0xbb51ce0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xbb51ce0, query=' '
conn=0xbb51ce0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xbb51ce0, query='set DateStyle to 'ISO''
conn=0xbb51ce0, query='set extra_float_digits to 2'
conn=0xbb51ce0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xbb51ce0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xbb51ce0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc8afd30, PGAPI_Disconnect
conn=0xbb51ce0, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0xfb17bf0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfb17bf0, query=' '
conn=0xfb17bf0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfb17bf0, query='set DateStyle to 'ISO''
conn=0xfb17bf0, query='set extra_float_digits to 2'
conn=0xfb17bf0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfb17bf0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfb17bf0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfb17bf0, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xfb17bf0, stmt=0xb42e4b0, result=0xb671d40
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb42e4b0'
                 ----------------QResult Info -------------------------------
                 fields=0x89d5a00, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xfb17bf0, status=1, num_stmts=16
            sock=0x8a33530, stmts=0xb429970, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=263292736, buffer_out=263296848
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xfb17bf0, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xfb17bf0, stmt=0xbbf1500, result=0x96226c0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xbbf1500'
                 ----------------QResult Info -------------------------------
                 fields=0x6d308a0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xfb17bf0, status=1, num_stmts=16
            sock=0x8a33530, stmts=0xb429970, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=263292736, buffer_out=263296848
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xfb2f010, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfb2f010, query=' '
conn=0xfb2f010, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfb2f010, query='set DateStyle to 'ISO''
conn=0xfb2f010, query='set extra_float_digits to 2'
conn=0xfb2f010, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfb2f010, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfb2f010, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfb2f010, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0xfb47490, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfb47490, query=' '
conn=0xfb47490, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfb47490, query='set DateStyle to 'ISO''
conn=0xfb47490, query='set extra_float_digits to 2'
conn=0xfb47490, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfb47490, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfb47490, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfb47490, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xfb47490, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xfb5f100, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfb5f100, query=' '
conn=0xfb5f100, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfb5f100, query='set DateStyle to 'ISO''
conn=0xfb5f100, query='set extra_float_digits to 2'
conn=0xfb5f100, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfb5f100, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfb5f100, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfb5f100, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0xfb765b0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfb765b0, query=' '
conn=0xfb765b0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfb765b0, query='set DateStyle to 'ISO''
conn=0xfb765b0, query='set extra_float_digits to 2'
conn=0xfb765b0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfb765b0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfb765b0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfb765b0, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0xfb8e220, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfb8e220, query=' '
conn=0xfb8e220, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfb8e220, query='set DateStyle to 'ISO''
conn=0xfb8e220, query='set extra_float_digits to 2'
conn=0xfb8e220, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfb8e220, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfb8e220, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfb8e220, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.tide from
grat gg,
(select g.rid,min(tide) tide from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
ERROR from backend during send_query: 'ERROR:  column "tide" does not exist at character 99'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xfb8e220, stmt=0xb4586e0, result=0x9ec51a0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=7, statement='
drop table if exists tmp;
create table tmp as
select gg.*,s.tide from
grat gg,
(select g.rid,min(tide) tide from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
                 stmt_with_params='
drop table if exists tmp;
create table tmp as
select gg.*,s.tide from
grat gg,
(select g.rid,min(tide) tide from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb4586e0'
                 ----------------QResult Info -------------------------------
                 fields=0x6a33bf0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  column "tide" does not exist at character 99', command='DROP TABLE', notice='NOTICE:  table "tmp" does not exist, skipping'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  column "tide" does not exist at character 99'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xfb8e220, status=1, num_stmts=16
            sock=0x82d2d40, stmts=0x979c950, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=22, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=263777648, buffer_out=263781760
            buffer_filled_in=68, buffer_filled_out=0, buffer_read_in=68
conn=0xfc11d50, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfc11d50, query=' '
conn=0xfc11d50, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfc11d50, query='set DateStyle to 'ISO''
conn=0xfc11d50, query='set extra_float_digits to 2'
conn=0xfc11d50, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfc11d50, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfc11d50, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfc11d50, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0xfc11d50, PGAPI_Disconnect
conn=0xfb8e220, PGAPI_Disconnect
conn=0xfb765b0, PGAPI_Disconnect
conn=0xfb5f100, PGAPI_Disconnect
conn=0xfb47490, PGAPI_Disconnect
conn=0xfb2f010, PGAPI_Disconnect
conn=0xfb17bf0, PGAPI_Disconnect
conn=0xfed55c0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfed55c0, query=' '
conn=0xfed55c0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfed55c0, query='set DateStyle to 'ISO''
conn=0xfed55c0, query='set extra_float_digits to 2'
conn=0xfed55c0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfed55c0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfed55c0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xbb51ce0, PGAPI_Disconnect
conn=0xfed55c0, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0xca9ef50, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xca9ef50, query=' '
conn=0xca9ef50, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xca9ef50, query='set DateStyle to 'ISO''
conn=0xca9ef50, query='set extra_float_digits to 2'
conn=0xca9ef50, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xca9ef50, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xca9ef50, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xca9ef50, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0xfed55c0, PGAPI_Disconnect
conn=0xcc075f0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xcc075f0, query=' '
conn=0xcc075f0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xcc075f0, query='set DateStyle to 'ISO''
conn=0xcc075f0, query='set extra_float_digits to 2'
conn=0xcc075f0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xcc075f0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xcc075f0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xcc075f0, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xcc075f0, stmt=0x1a15c80, result=0x1eb25d0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x1a15c80'
                 ----------------QResult Info -------------------------------
                 fields=0xbb96760, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xcc075f0, status=1, num_stmts=16
            sock=0x8a33530, stmts=0xa3da5b0, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=213942592, buffer_out=213946704
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xcc075f0, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xcc075f0, stmt=0x122e4970, result=0x1eb25d0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x122e4970'
                 ----------------QResult Info -------------------------------
                 fields=0x8da1980, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xcc075f0, status=1, num_stmts=16
            sock=0x8a33530, stmts=0xa3da5b0, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=213942592, buffer_out=213946704
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x11e1e440, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x11e1e440, query=' '
conn=0x11e1e440, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x11e1e440, query='set DateStyle to 'ISO''
conn=0x11e1e440, query='set extra_float_digits to 2'
conn=0x11e1e440, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x11e1e440, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x11e1e440, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x11e1e440, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0x317c9a0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x317c9a0, query=' '
conn=0x317c9a0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x317c9a0, query='set DateStyle to 'ISO''
conn=0x317c9a0, query='set extra_float_digits to 2'
conn=0x317c9a0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x317c9a0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x317c9a0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x317c9a0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x317c9a0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x10013350, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x10013350, query=' '
conn=0x10013350, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x10013350, query='set DateStyle to 'ISO''
conn=0x10013350, query='set extra_float_digits to 2'
conn=0x10013350, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x10013350, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x10013350, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x10013350, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x10013350, stmt=0xa057000, result=0x317ee70
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xa057000'
                 ----------------QResult Info -------------------------------
                 fields=0x8e1da90, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x10013350, status=1, num_stmts=16
            sock=0x2980450, stmts=0xbbe7c00, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=20, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=268517024, buffer_out=268521136
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x10013350, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x10013350, stmt=0x805f2f0, result=0x317ee70
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x805f2f0'
                 ----------------QResult Info -------------------------------
                 fields=0x30e82e0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x10013350, status=1, num_stmts=16
            sock=0x2980450, stmts=0xbbe7c00, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=20, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=268517024, buffer_out=268521136
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x10029fb0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x10029fb0, query=' '
conn=0x10029fb0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x10029fb0, query='set DateStyle to 'ISO''
conn=0x10029fb0, query='set extra_float_digits to 2'
conn=0x10029fb0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x10029fb0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x10029fb0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x10029fb0, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0x10037750, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x10037750, query=' '
conn=0x10037750, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x10037750, query='set DateStyle to 'ISO''
conn=0x10037750, query='set extra_float_digits to 2'
conn=0x10037750, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x10037750, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x10037750, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x10037750, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_multi(st_envelope(st_tile(rast,20,20))) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x10037750, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x129f9e70, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x129f9e70, query=' '
conn=0x129f9e70, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x129f9e70, query='set DateStyle to 'ISO''
conn=0x129f9e70, query='set extra_float_digits to 2'
conn=0x129f9e70, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x129f9e70, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x129f9e70, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x129f9e70, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(multipolygon),
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_multi(st_envelope(st_tile(rast,20,20))) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x129f9e70, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x122a95a0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x122a95a0, query=' '
conn=0x122a95a0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x122a95a0, query='set DateStyle to 'ISO''
conn=0x122a95a0, query='set extra_float_digits to 2'
conn=0x122a95a0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x122a95a0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x122a95a0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x122a95a0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon),
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x122a95a0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xfd5d3a0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfd5d3a0, query=' '
conn=0xfd5d3a0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfd5d3a0, query='set DateStyle to 'ISO''
conn=0xfd5d3a0, query='set extra_float_digits to 2'
conn=0xfd5d3a0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfd5d3a0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfd5d3a0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfd5d3a0, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xfd5d3a0, stmt=0x1a156d0, result=0x9f13830
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x1a156d0'
                 ----------------QResult Info -------------------------------
                 fields=0x6bc1660, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xfd5d3a0, status=1, num_stmts=16
            sock=0x9ba3750, stmts=0xa3b1cf0, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=7, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=265674480, buffer_out=265678592
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xfd5d3a0, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xfd5d3a0, stmt=0x29844b0, result=0xba149b0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x29844b0'
                 ----------------QResult Info -------------------------------
                 fields=0x8706c20, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xfd5d3a0, status=1, num_stmts=16
            sock=0x9ba3750, stmts=0xa3b1cf0, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=7, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=265674480, buffer_out=265678592
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xfd747c0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfd747c0, query=' '
conn=0xfd747c0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfd747c0, query='set DateStyle to 'ISO''
conn=0xfd747c0, query='set extra_float_digits to 2'
conn=0xfd747c0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfd747c0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfd747c0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfd747c0, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0x31858c0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x31858c0, query=' '
conn=0x31858c0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x31858c0, query='set DateStyle to 'ISO''
conn=0x31858c0, query='set extra_float_digits to 2'
conn=0x31858c0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x31858c0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x31858c0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x31858c0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon),
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x31858c0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xfda3b20, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfda3b20, query=' '
conn=0xfda3b20, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfda3b20, query='set DateStyle to 'ISO''
conn=0xfda3b20, query='set extra_float_digits to 2'
conn=0xfda3b20, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfda3b20, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfda3b20, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfda3b20, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0xfdbb790, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfdbb790, query=' '
conn=0xfdbb790, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfdbb790, query='set DateStyle to 'ISO''
conn=0xfdbb790, query='set extra_float_digits to 2'
conn=0xfdbb790, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfdbb790, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfdbb790, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfdbb790, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0xf649890, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xf649890, query=' '
conn=0xf649890, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xf649890, query='set DateStyle to 'ISO''
conn=0xf649890, query='set extra_float_digits to 2'
conn=0xf649890, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xf649890, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xf649890, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xf649890, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0xf649890, PGAPI_Disconnect
conn=0xfdbb790, PGAPI_Disconnect
conn=0xfda3b20, PGAPI_Disconnect
conn=0x31858c0, PGAPI_Disconnect
conn=0xfd747c0, PGAPI_Disconnect
conn=0xfd5d3a0, PGAPI_Disconnect
conn=0x122a95a0, PGAPI_Disconnect
conn=0x129f9e70, PGAPI_Disconnect
conn=0x10037750, PGAPI_Disconnect
conn=0x10029fb0, PGAPI_Disconnect
conn=0x10013350, PGAPI_Disconnect
conn=0x317c9a0, PGAPI_Disconnect
conn=0x11e1e440, PGAPI_Disconnect
conn=0xcc075f0, PGAPI_Disconnect
conn=0x11e36a60, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x11e36a60, query=' '
conn=0x11e36a60, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x11e36a60, query='set DateStyle to 'ISO''
conn=0x11e36a60, query='set extra_float_digits to 2'
conn=0x11e36a60, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x11e36a60, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x11e36a60, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x11e36a60, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0xca9ef50, PGAPI_Disconnect
conn=0xa667060, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xa667060, query=' '
conn=0xa667060, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xa667060, query='set DateStyle to 'ISO''
conn=0xa667060, query='set extra_float_digits to 2'
conn=0xa667060, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xa667060, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xa667060, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x11e36a60, PGAPI_Disconnect
conn=0xa667060, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0x14141020, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
CONN ERROR: func=original_CC_connect, desc='', errnum=101, errmsg='Could not connect to the server'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x14141020, status=0, num_stmts=16
            sock=0x14141b70, stmts=0xb96a070, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=-1, reverse=0, errornumber=4, errormsg='Connection refused [172.17.0.8:5432]'
            buffer_in=336862288, buffer_out=336866400
            buffer_filled_in=0, buffer_filled_out=0, buffer_read_in=0
CONN ERROR: func=PGAPI_DriverConnect, desc='Error from CC_Connect', errnum=101, errmsg='Could not connect to the server'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x14141020, status=0, num_stmts=16
            sock=0x14141b70, stmts=0xb96a070, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=-1, reverse=0, errornumber=4, errormsg='Connection refused [172.17.0.8:5432]'
            buffer_in=336862288, buffer_out=336866400
            buffer_filled_in=0, buffer_filled_out=0, buffer_read_in=0
conn=0xed944f0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xed944f0, query=' '
conn=0xed944f0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xed944f0, query='set DateStyle to 'ISO''
conn=0xed944f0, query='set extra_float_digits to 2'
conn=0xed944f0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xed944f0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xed944f0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xed944f0, query='create extension postgis'
conn=0xed944f0, query='create extension plr'
conn=0xedbe9d0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xedbe9d0, query=' '
conn=0xedbe9d0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xedbe9d0, query='set DateStyle to 'ISO''
conn=0xedbe9d0, query='set extra_float_digits to 2'
conn=0xedbe9d0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xedbe9d0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xedbe9d0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xedbe9d0, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0xedeeb10, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xedeeb10, query=' '
conn=0xedeeb10, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xedeeb10, query='set DateStyle to 'ISO''
conn=0xedeeb10, query='set extra_float_digits to 2'
conn=0xedeeb10, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xedeeb10, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xedeeb10, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xedeeb10, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon),
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
NOTICE from backend during send_query: 'NOTICE:  table "grat" does not exist, skipping'
conn=0xedeeb10, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xee1a680, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xee1a680, query=' '
conn=0xee1a680, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xee1a680, query='set DateStyle to 'ISO''
conn=0xee1a680, query='set extra_float_digits to 2'
conn=0xee1a680, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xee1a680, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xee1a680, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xee1a680, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0xee443c0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xee443c0, query=' '
conn=0xee443c0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xee443c0, query='set DateStyle to 'ISO''
conn=0xee443c0, query='set extra_float_digits to 2'
conn=0xee443c0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xee443c0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xee443c0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xee443c0, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0xee72690, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xee72690, query=' '
conn=0xee72690, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xee72690, query='set DateStyle to 'ISO''
conn=0xee72690, query='set extra_float_digits to 2'
conn=0xee72690, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xee72690, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xee72690, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xee72690, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0xee72690, PGAPI_Disconnect
conn=0xee443c0, PGAPI_Disconnect
conn=0xee1a680, PGAPI_Disconnect
conn=0xedeeb10, PGAPI_Disconnect
conn=0xedbe9d0, PGAPI_Disconnect
conn=0xed944f0, PGAPI_Disconnect
conn=0x12e4a370, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x12e4a370, query=' '
conn=0x12e4a370, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x12e4a370, query='set DateStyle to 'ISO''
conn=0x12e4a370, query='set extra_float_digits to 2'
conn=0x12e4a370, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x12e4a370, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x12e4a370, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x12e4a370, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
NOTICE from backend during send_query: 'NOTICE:  table "tides" does not exist, skipping'
conn=0xa667060, PGAPI_Disconnect
conn=0x1536d8a0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1536d8a0, query=' '
conn=0x1536d8a0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1536d8a0, query='set DateStyle to 'ISO''
conn=0x1536d8a0, query='set extra_float_digits to 2'
conn=0x1536d8a0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1536d8a0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1536d8a0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x12e4a370, PGAPI_Disconnect
conn=0x1536d8a0, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
NOTICE from backend during send_query: 'NOTICE:  table "climate" does not exist, skipping'
conn=0x3f9a280, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x3f9a280, query=' '
conn=0x3f9a280, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x3f9a280, query='set DateStyle to 'ISO''
conn=0x3f9a280, query='set extra_float_digits to 2'
conn=0x3f9a280, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x3f9a280, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x3f9a280, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x3f9a280, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon),
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
NOTICE from backend during send_query: 'NOTICE:  table "grat" does not exist, skipping'
conn=0x3f9a280, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xcdfe2b0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xcdfe2b0, query=' '
conn=0xcdfe2b0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xcdfe2b0, query='set DateStyle to 'ISO''
conn=0xcdfe2b0, query='set extra_float_digits to 2'
conn=0xcdfe2b0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xcdfe2b0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xcdfe2b0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xcdfe2b0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xcdfe2b0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xcdfe2b0, PGAPI_Disconnect
conn=0x3f9a280, PGAPI_Disconnect
conn=0xc357510, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xc357510, query=' '
conn=0xc357510, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xc357510, query='set DateStyle to 'ISO''
conn=0xc357510, query='set extra_float_digits to 2'
conn=0xc357510, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xc357510, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xc357510, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc357510, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon,st_srid(geom)) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
ERROR from backend during send_query: 'ERROR:  type modifiers must be simple constants or identifiers at character 165'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xc357510, stmt=0x11ae7b20, result=0xfc32a20
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=7, statement='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon,st_srid(geom)) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
                 stmt_with_params='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon,st_srid(geom)) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x11ae7b20'
                 ----------------QResult Info -------------------------------
                 fields=0x8706c20, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  type modifiers must be simple constants or identifiers at character 165', command='DROP TABLE', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  type modifiers must be simple constants or identifiers at character 165'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xc357510, status=1, num_stmts=16
            sock=0x11f34310, stmts=0x9613a30, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=372199152, buffer_out=372203264
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xc357510, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
ERROR from backend during send_query: 'ERROR:  column "rid" of relation "grat" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xc357510, stmt=0xb4586e0, result=0xfc32a20
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=6, statement='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
                 stmt_with_params='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb4586e0'
                 ----------------QResult Info -------------------------------
                 fields=0xb4108e0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  column "rid" of relation "grat" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  type modifiers must be simple constants or identifiers at character 165'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xc357510, status=1, num_stmts=16
            sock=0x11f34310, stmts=0x9613a30, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=372199152, buffer_out=372203264
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x13fb3f10, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x13fb3f10, query=' '
conn=0x13fb3f10, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x13fb3f10, query='set DateStyle to 'ISO''
conn=0x13fb3f10, query='set extra_float_digits to 2'
conn=0x13fb3f10, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x13fb3f10, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x13fb3f10, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x13fb3f10, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon,st_getsrid(geom)) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
ERROR from backend during send_query: 'ERROR:  type modifiers must be simple constants or identifiers at character 165'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x13fb3f10, stmt=0xfc828e0, result=0xa0f9a20
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=7, statement='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon,st_getsrid(geom)) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
                 stmt_with_params='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon,st_getsrid(geom)) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xfc828e0'
                 ----------------QResult Info -------------------------------
                 fields=0x9b2fd30, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  type modifiers must be simple constants or identifiers at character 165', command='DROP TABLE', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  type modifiers must be simple constants or identifiers at character 165'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x13fb3f10, status=1, num_stmts=16
            sock=0xa5a4170, stmts=0x2cbe920, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=18, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=264592400, buffer_out=264596512
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x13fb3f10, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
ERROR from backend during send_query: 'ERROR:  column "rid" of relation "grat" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x13fb3f10, stmt=0x107a4880, result=0x11e0a5a0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=6, statement='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
                 stmt_with_params='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x107a4880'
                 ----------------QResult Info -------------------------------
                 fields=0x6f54010, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  column "rid" of relation "grat" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  type modifiers must be simple constants or identifiers at character 165'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x13fb3f10, status=1, num_stmts=16
            sock=0xa5a4170, stmts=0x2cbe920, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=18, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=264592400, buffer_out=264596512
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x14c1dff0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x14c1dff0, query=' '
conn=0x14c1dff0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x14c1dff0, query='set DateStyle to 'ISO''
conn=0x14c1dff0, query='set extra_float_digits to 2'
conn=0x14c1dff0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x14c1dff0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x14c1dff0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x14c1dff0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20))::geometry(polygon) geom geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
ERROR from backend during send_query: 'ERROR:  syntax error at or near "geom" at character 588'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x14c1dff0, stmt=0xb4586e0, result=0x15a8e640
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=7, statement='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20))::geometry(polygon) geom geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
                 stmt_with_params='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20))::geometry(polygon) geom geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb4586e0'
                 ----------------QResult Info -------------------------------
                 fields=0xa50d590, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  syntax error at or near "geom" at character 588', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  syntax error at or near "geom" at character 588'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x14c1dff0, status=1, num_stmts=16
            sock=0x1108bec0, stmts=0xbbe7c00, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=19, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=348252992, buffer_out=372246832
            buffer_filled_in=59, buffer_filled_out=0, buffer_read_in=59
conn=0x14c1dff0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
ERROR from backend during send_query: 'ERROR:  column "rid" of relation "grat" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x14c1dff0, stmt=0x1603ff40, result=0x2964f30
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=6, statement='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
                 stmt_with_params='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x1603ff40'
                 ----------------QResult Info -------------------------------
                 fields=0x1c53d00, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  column "rid" of relation "grat" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  syntax error at or near "geom" at character 588'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x14c1dff0, status=1, num_stmts=16
            sock=0x1108bec0, stmts=0xbbe7c00, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=19, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=348252992, buffer_out=372246832
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xfc42f20, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xfc42f20, query=' '
conn=0xfc42f20, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xfc42f20, query='set DateStyle to 'ISO''
conn=0xfc42f20, query='set extra_float_digits to 2'
conn=0xfc42f20, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xfc42f20, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xfc42f20, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xfc42f20, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                 geom::geometry(polygon) geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xfc42f20, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0xd4cc870, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xd4cc870, query=' '
conn=0xd4cc870, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xd4cc870, query='set DateStyle to 'ISO''
conn=0xd4cc870, query='set extra_float_digits to 2'
conn=0xd4cc870, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xd4cc870, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xd4cc870, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xd4cc870, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20))::geometry(polygon) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xd4cc870, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x15ae1b60, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x15ae1b60, query=' '
conn=0x15ae1b60, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x15ae1b60, query='set DateStyle to 'ISO''
conn=0x15ae1b60, query='set extra_float_digits to 2'
conn=0x15ae1b60, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x15ae1b60, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x15ae1b60, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x15ae1b60, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x15ae1b60, stmt=0x107a4880, result=0x11a6e810
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x107a4880'
                 ----------------QResult Info -------------------------------
                 fields=0xb4263b0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x15ae1b60, status=1, num_stmts=16
            sock=0x12d16240, stmts=0x9953470, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=7, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=263970208, buffer_out=263974320
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x15ae1b60, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x15ae1b60, stmt=0x1a15c80, result=0x161690f0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x1a15c80'
                 ----------------QResult Info -------------------------------
                 fields=0xb852e50, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x15ae1b60, status=1, num_stmts=16
            sock=0x12d16240, stmts=0x9953470, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=7, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=263970208, buffer_out=263974320
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x1056af90, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1056af90, query=' '
conn=0x1056af90, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1056af90, query='set DateStyle to 'ISO''
conn=0x1056af90, query='set extra_float_digits to 2'
conn=0x1056af90, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1056af90, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1056af90, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1056af90, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0xcbd0d10, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xcbd0d10, query=' '
conn=0xcbd0d10, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xcbd0d10, query='set DateStyle to 'ISO''
conn=0xcbd0d10, query='set extra_float_digits to 2'
conn=0xcbd0d10, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xcbd0d10, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xcbd0d10, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xcbd0d10, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom,
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20))::geometry(polygon) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xcbd0d10, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x3f964e0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x3f964e0, query=' '
conn=0x3f964e0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x3f964e0, query='set DateStyle to 'ISO''
conn=0x3f964e0, query='set extra_float_digits to 2'
conn=0x3f964e0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x3f964e0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x3f964e0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x3f964e0, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0xd813bb0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xd813bb0, query=' '
conn=0xd813bb0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xd813bb0, query='set DateStyle to 'ISO''
conn=0xd813bb0, query='set extra_float_digits to 2'
conn=0xd813bb0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xd813bb0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xd813bb0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xd813bb0, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0xc322f60, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xc322f60, query=' '
conn=0xc322f60, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xc322f60, query='set DateStyle to 'ISO''
conn=0xc322f60, query='set extra_float_digits to 2'
conn=0xc322f60, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xc322f60, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xc322f60, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc322f60, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0xc322f60, PGAPI_Disconnect
conn=0xd813bb0, PGAPI_Disconnect
conn=0x3f964e0, PGAPI_Disconnect
conn=0xcbd0d10, PGAPI_Disconnect
conn=0x1056af90, PGAPI_Disconnect
conn=0x15ae1b60, PGAPI_Disconnect
conn=0xd4cc870, PGAPI_Disconnect
conn=0xfc42f20, PGAPI_Disconnect
conn=0x14c1dff0, PGAPI_Disconnect
conn=0x13fb3f10, PGAPI_Disconnect
conn=0xc357510, PGAPI_Disconnect
conn=0x14c50b80, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x14c50b80, query=' '
conn=0x14c50b80, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x14c50b80, query='set DateStyle to 'ISO''
conn=0x14c50b80, query='set extra_float_digits to 2'
conn=0x14c50b80, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x14c50b80, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x14c50b80, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x14c50b80, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0x1536d8a0, PGAPI_Disconnect
conn=0x1536d8a0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1536d8a0, query=' '
conn=0x1536d8a0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1536d8a0, query='set DateStyle to 'ISO''
conn=0x1536d8a0, query='set extra_float_digits to 2'
conn=0x1536d8a0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1536d8a0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1536d8a0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1536d8a0, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0x14c50b80, PGAPI_Disconnect
conn=0xba0a320, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xba0a320, query=' '
conn=0xba0a320, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xba0a320, query='set DateStyle to 'ISO''
conn=0xba0a320, query='set extra_float_digits to 2'
conn=0xba0a320, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xba0a320, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xba0a320, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xba0a320, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom::geometry(polygon,3857),
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xba0a320, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x4ef4520, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x4ef4520, query=' '
conn=0x4ef4520, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x4ef4520, query='set DateStyle to 'ISO''
conn=0x4ef4520, query='set extra_float_digits to 2'
conn=0x4ef4520, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x4ef4520, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x4ef4520, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x4ef4520, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom::geometry(polygon,3857),
                 st_area(geom)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,20,20)) geom,
                 st_tile(rast,20,20) rast,
                 (st_dumpvalues(st_tile(rast,20,20))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x4ef4520, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x12ae3fd0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x12ae3fd0, query=' '
conn=0x12ae3fd0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x12ae3fd0, query='set DateStyle to 'ISO''
conn=0x12ae3fd0, query='set extra_float_digits to 2'
conn=0x12ae3fd0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x12ae3fd0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x12ae3fd0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x12ae3fd0, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x12ae3fd0, stmt=0xcdd6480, result=0x5c46880
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xcdd6480'
                 ----------------QResult Info -------------------------------
                 fields=0x5c21d50, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x12ae3fd0, status=1, num_stmts=16
            sock=0x16681fd0, stmts=0x7befc30, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=19, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=313412384, buffer_out=223553408
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x12ae3fd0, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x12ae3fd0, stmt=0xcdd6480, result=0x5c46880
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xcdd6480'
                 ----------------QResult Info -------------------------------
                 fields=0xb4466d0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x12ae3fd0, status=1, num_stmts=16
            sock=0x16681fd0, stmts=0x7befc30, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=19, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=313412384, buffer_out=223553408
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x1657d4a0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1657d4a0, query=' '
conn=0x1657d4a0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1657d4a0, query='set DateStyle to 'ISO''
conn=0x1657d4a0, query='set extra_float_digits to 2'
conn=0x1657d4a0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1657d4a0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1657d4a0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1657d4a0, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0xc29fef0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xc29fef0, query=' '
conn=0xc29fef0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xc29fef0, query='set DateStyle to 'ISO''
conn=0xc29fef0, query='set extra_float_digits to 2'
conn=0xc29fef0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xc29fef0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xc29fef0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc29fef0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom::geometry(polygon,3857),
                 st_area(st_transform(geom,4326)::geography)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,33,33)) geom,
                 st_tile(rast,33,33) rast,
                 (st_dumpvalues(st_tile(rast,33,33))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xc29fef0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x122c22c0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x122c22c0, query=' '
conn=0x122c22c0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x122c22c0, query='set DateStyle to 'ISO''
conn=0x122c22c0, query='set extra_float_digits to 2'
conn=0x122c22c0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x122c22c0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x122c22c0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x122c22c0, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0x14c1f3c0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x14c1f3c0, query=' '
conn=0x14c1f3c0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x14c1f3c0, query='set DateStyle to 'ISO''
conn=0x14c1f3c0, query='set extra_float_digits to 2'
conn=0x14c1f3c0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x14c1f3c0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x14c1f3c0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x14c1f3c0, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0xcdc8360, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xcdc8360, query=' '
conn=0xcdc8360, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xcdc8360, query='set DateStyle to 'ISO''
conn=0xcdc8360, query='set extra_float_digits to 2'
conn=0xcdc8360, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xcdc8360, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xcdc8360, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xcdc8360, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0x117fd820, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x117fd820, query=' '
conn=0x117fd820, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x117fd820, query='set DateStyle to 'ISO''
conn=0x117fd820, query='set extra_float_digits to 2'
conn=0x117fd820, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x117fd820, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x117fd820, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x117fd820, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0xcdc8360, PGAPI_Disconnect
conn=0x14c1f3c0, PGAPI_Disconnect
conn=0x122c22c0, PGAPI_Disconnect
conn=0xc29fef0, PGAPI_Disconnect
conn=0x1657d4a0, PGAPI_Disconnect
conn=0x12ae3fd0, PGAPI_Disconnect
conn=0x4ef4520, PGAPI_Disconnect
conn=0xba0a320, PGAPI_Disconnect
conn=0x15f33cd0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x15f33cd0, query=' '
conn=0x15f33cd0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x15f33cd0, query='set DateStyle to 'ISO''
conn=0x15f33cd0, query='set extra_float_digits to 2'
conn=0x15f33cd0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x15f33cd0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x15f33cd0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x117fd820, PGAPI_Disconnect
conn=0x1536d8a0, PGAPI_Disconnect
conn=0x15f33cd0, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0xc8cd320, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xc8cd320, query=' '
conn=0xc8cd320, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xc8cd320, query='set DateStyle to 'ISO''
conn=0xc8cd320, query='set extra_float_digits to 2'
conn=0xc8cd320, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xc8cd320, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xc8cd320, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc8cd320, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xc8cd320, stmt=0x1603ff40, result=0x13d72d00
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x1603ff40'
                 ----------------QResult Info -------------------------------
                 fields=0xa11c200, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xc8cd320, status=1, num_stmts=16
            sock=0x14151f30, stmts=0xcbd7680, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=18, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=336839040, buffer_out=432051344
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xc8cd320, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0xc8cd320, stmt=0x1613f3f0, result=0x1003d230
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x1613f3f0'
                 ----------------QResult Info -------------------------------
                 fields=0x97e8b60, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0xc8cd320, status=1, num_stmts=16
            sock=0x14151f30, stmts=0xcbd7680, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=18, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=336839040, buffer_out=432051344
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x1536d8a0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1536d8a0, query=' '
conn=0x1536d8a0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1536d8a0, query='set DateStyle to 'ISO''
conn=0x1536d8a0, query='set extra_float_digits to 2'
conn=0x1536d8a0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1536d8a0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1536d8a0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1536d8a0, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0xcdbdbb0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xcdbdbb0, query=' '
conn=0xcdbdbb0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xcdbdbb0, query='set DateStyle to 'ISO''
conn=0xcdbdbb0, query='set extra_float_digits to 2'
conn=0xcdbdbb0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xcdbdbb0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xcdbdbb0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xcdbdbb0, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom::geometry(polygon,3857),
                 st_area(st_transform(geom,4326)::geography)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,33,33)) geom,
                 st_tile(rast,33,33) rast,
                 (st_dumpvalues(st_tile(rast,33,33))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0xcdbdbb0, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x316c460, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x316c460, query=' '
conn=0x316c460, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x316c460, query='set DateStyle to 'ISO''
conn=0x316c460, query='set extra_float_digits to 2'
conn=0x316c460, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x316c460, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x316c460, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x316c460, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0xc091f80, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xc091f80, query=' '
conn=0xc091f80, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xc091f80, query='set DateStyle to 'ISO''
conn=0xc091f80, query='set extra_float_digits to 2'
conn=0xc091f80, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xc091f80, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xc091f80, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc091f80, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0xc09afe0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xc09afe0, query=' '
conn=0xc09afe0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xc09afe0, query='set DateStyle to 'ISO''
conn=0xc09afe0, query='set extra_float_digits to 2'
conn=0xc09afe0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xc09afe0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xc09afe0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc09afe0, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0xf2fc6d0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xf2fc6d0, query=' '
conn=0xf2fc6d0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xf2fc6d0, query='set DateStyle to 'ISO''
conn=0xf2fc6d0, query='set extra_float_digits to 2'
conn=0xf2fc6d0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xf2fc6d0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xf2fc6d0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xc09afe0, PGAPI_Disconnect
conn=0xc091f80, PGAPI_Disconnect
conn=0x316c460, PGAPI_Disconnect
conn=0xcdbdbb0, PGAPI_Disconnect
conn=0x1536d8a0, PGAPI_Disconnect
conn=0xc8cd320, PGAPI_Disconnect
conn=0xf2fc6d0, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0x15f33cd0, PGAPI_Disconnect
conn=0x15f33cd0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x15f33cd0, query=' '
conn=0x15f33cd0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x15f33cd0, query='set DateStyle to 'ISO''
conn=0x15f33cd0, query='set extra_float_digits to 2'
conn=0x15f33cd0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x15f33cd0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x15f33cd0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x15f33cd0, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0xf2fc6d0, PGAPI_Disconnect
conn=0x1625d650, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1625d650, query=' '
conn=0x1625d650, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1625d650, query='set DateStyle to 'ISO''
conn=0x1625d650, query='set extra_float_digits to 2'
conn=0x1625d650, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1625d650, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1625d650, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1625d650, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x1625d650, stmt=0xb4586e0, result=0x1b0a970
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb4586e0'
                 ----------------QResult Info -------------------------------
                 fields=0x9e71cf0, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x1625d650, status=1, num_stmts=16
            sock=0x12a8d270, stmts=0x92e2780, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=267277328, buffer_out=267281440
            buffer_filled_in=46, buffer_filled_out=0, buffer_read_in=46
conn=0x1625d650, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x1625d650, stmt=0xc23b110, result=0xc9a5550
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xc23b110'
                 ----------------QResult Info -------------------------------
                 fields=0x13505980, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x1625d650, status=1, num_stmts=16
            sock=0x12a8d270, stmts=0x92e2780, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=17, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=267277328, buffer_out=267281440
            buffer_filled_in=42, buffer_filled_out=0, buffer_read_in=42
conn=0x1261db20, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1261db20, query=' '
conn=0x1261db20, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1261db20, query='set DateStyle to 'ISO''
conn=0x1261db20, query='set extra_float_digits to 2'
conn=0x1261db20, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1261db20, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1261db20, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1261db20, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0x12e0c450, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x12e0c450, query=' '
conn=0x12e0c450, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x12e0c450, query='set DateStyle to 'ISO''
conn=0x12e0c450, query='set extra_float_digits to 2'
conn=0x12e0c450, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x12e0c450, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x12e0c450, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x12e0c450, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom::geometry(polygon,3857),
                 st_area(st_transform(geom,4326)::geography)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,33,33)) geom,
                 st_tile(rast,33,33) rast,
                 (st_dumpvalues(st_tile(rast,33,33))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x12e0c450, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x12e0dfb0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x12e0dfb0, query=' '
conn=0x12e0dfb0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x12e0dfb0, query='set DateStyle to 'ISO''
conn=0x12e0dfb0, query='set extra_float_digits to 2'
conn=0x12e0dfb0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x12e0dfb0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x12e0dfb0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x12e0dfb0, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0x19dbc000, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x19dbc000, query=' '
conn=0x19dbc000, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x19dbc000, query='set DateStyle to 'ISO''
conn=0x19dbc000, query='set extra_float_digits to 2'
conn=0x19dbc000, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x19dbc000, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x19dbc000, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x19dbc000, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0x11627ce0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x11627ce0, query=' '
conn=0x11627ce0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x11627ce0, query='set DateStyle to 'ISO''
conn=0x11627ce0, query='set extra_float_digits to 2'
conn=0x11627ce0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x11627ce0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x11627ce0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x11627ce0, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0x11627ce0, PGAPI_Disconnect
conn=0x19dbc000, PGAPI_Disconnect
conn=0x12e0dfb0, PGAPI_Disconnect
conn=0x12e0c450, PGAPI_Disconnect
conn=0x1261db20, PGAPI_Disconnect
conn=0x1625d650, PGAPI_Disconnect
conn=0x19510ec0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x19510ec0, query=' '
conn=0x19510ec0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x19510ec0, query='set DateStyle to 'ISO''
conn=0x19510ec0, query='set extra_float_digits to 2'
conn=0x19510ec0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x19510ec0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x19510ec0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x19510ec0, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0x11624920, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x11624920, query=' '
conn=0x11624920, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x11624920, query='set DateStyle to 'ISO''
conn=0x11624920, query='set extra_float_digits to 2'
conn=0x11624920, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x11624920, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x11624920, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x15f33cd0, PGAPI_Disconnect
conn=0x11624920, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0x15f33cd0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x15f33cd0, query=' '
conn=0x15f33cd0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x15f33cd0, query='set DateStyle to 'ISO''
conn=0x15f33cd0, query='set extra_float_digits to 2'
conn=0x15f33cd0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x15f33cd0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x15f33cd0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x15f33cd0, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x15f33cd0, stmt=0xa057000, result=0x1512bd10
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xa057000'
                 ----------------QResult Info -------------------------------
                 fields=0xa427b60, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x15f33cd0, status=1, num_stmts=16
            sock=0x106cc3f0, stmts=0x11a1f8c0, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=7, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=213580128, buffer_out=213584240
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x15f33cd0, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x15f33cd0, stmt=0xb42e4b0, result=0x11f4d130
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0xb42e4b0'
                 ----------------QResult Info -------------------------------
                 fields=0xa485880, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x15f33cd0, status=1, num_stmts=16
            sock=0x106cc3f0, stmts=0x11a1f8c0, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=7, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=213580128, buffer_out=213584240
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xe274fe0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xe274fe0, query=' '
conn=0xe274fe0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xe274fe0, query='set DateStyle to 'ISO''
conn=0xe274fe0, query='set extra_float_digits to 2'
conn=0xe274fe0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xe274fe0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xe274fe0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xe274fe0, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0x165c3870, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x165c3870, query=' '
conn=0x165c3870, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x165c3870, query='set DateStyle to 'ISO''
conn=0x165c3870, query='set extra_float_digits to 2'
conn=0x165c3870, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x165c3870, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x165c3870, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x165c3870, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom::geometry(polygon,3857),
                 st_area(st_transform(geom,4326)::geography)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,33,33)) geom,
                 st_tile(rast,33,33) rast,
                 (st_dumpvalues(st_tile(rast,33,33))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x165c3870, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x129dac10, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x129dac10, query=' '
conn=0x129dac10, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x129dac10, query='set DateStyle to 'ISO''
conn=0x129dac10, query='set extra_float_digits to 2'
conn=0x129dac10, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x129dac10, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x129dac10, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x129dac10, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.5,1,0);'
conn=0x152abf10, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x152abf10, query=' '
conn=0x152abf10, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x152abf10, query='set DateStyle to 'ISO''
conn=0x152abf10, query='set extra_float_digits to 2'
conn=0x152abf10, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x152abf10, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x152abf10, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x152abf10, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0x1551c0b0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1551c0b0, query=' '
conn=0x1551c0b0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1551c0b0, query='set DateStyle to 'ISO''
conn=0x1551c0b0, query='set extra_float_digits to 2'
conn=0x1551c0b0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1551c0b0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1551c0b0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1551c0b0, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0x1551c0b0, PGAPI_Disconnect
conn=0x152abf10, PGAPI_Disconnect
conn=0x129dac10, PGAPI_Disconnect
conn=0x165c3870, PGAPI_Disconnect
conn=0xe274fe0, PGAPI_Disconnect
conn=0x15f33cd0, PGAPI_Disconnect
conn=0x15f33cd0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x15f33cd0, query=' '
conn=0x15f33cd0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x15f33cd0, query='set DateStyle to 'ISO''
conn=0x15f33cd0, query='set extra_float_digits to 2'
conn=0x15f33cd0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x15f33cd0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x15f33cd0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x15f33cd0, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0x11624920, PGAPI_Disconnect
conn=0x1007a270, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1007a270, query=' '
conn=0x1007a270, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1007a270, query='set DateStyle to 'ISO''
conn=0x1007a270, query='set extra_float_digits to 2'
conn=0x1007a270, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1007a270, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1007a270, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1007a270, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0x129dac10, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x129dac10, query=' '
conn=0x129dac10, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x129dac10, query='set DateStyle to 'ISO''
conn=0x129dac10, query='set extra_float_digits to 2'
conn=0x129dac10, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x129dac10, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x129dac10, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x129dac10, query='create extension postgis'
ERROR from backend during send_query: 'ERROR:  extension "postgis" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x129dac10, stmt=0x107a4880, result=0x96226c0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension postgis'
                 stmt_with_params='create extension postgis'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x107a4880'
                 ----------------QResult Info -------------------------------
                 fields=0x2066230, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "postgis" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x129dac10, status=1, num_stmts=16
            sock=0x124395b0, stmts=0x744ab20, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=19, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=421764608, buffer_out=215611392
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0x129dac10, query='create extension plr'
ERROR from backend during send_query: 'ERROR:  extension "plr" already exists'
STATEMENT ERROR: func=SC_execute, desc='(null)', errnum=7, errmsg='Error while executing the query'
                 ------------------------------------------------------------
                 hdbc=0x129dac10, stmt=0x12f6d8c0, result=0x200c8d0
                 prepare=2, internal=0
                 bindings=(nil), bindings_allocated=0
                 parameters=(nil), parameters_allocated=0
                 statement_type=5, statement='create extension plr'
                 stmt_with_params='create extension plr'
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0, scroll_concurrency=1
                 cursor_name='SQL_CUR0x12f6d8c0'
                 ----------------QResult Info -------------------------------
                 fields=0x8da4f80, backend_tuples=(nil), tupleField=0, conn=(nil)
                 fetch_count=0, num_total_rows=0, num_fields=0, cursor='(NULL)'
                 message='ERROR:  extension "plr" already exists', command='(NULL)', notice='(NULL)'
                 status=7, inTuples=0
CONN ERROR: func=SC_execute, desc='(null)', errnum=110, errmsg='ERROR:  extension "postgis" already exists'
            ------------------------------------------------------------
            henv=0xbc35ca0, conn=0x129dac10, status=1, num_stmts=16
            sock=0x124395b0, stmts=0x744ab20, lobj_type=-999
            ---------------- Socket Info -------------------------------
            socket=19, reverse=0, errornumber=0, errormsg='(NULL)'
            buffer_in=421764608, buffer_out=215611392
            buffer_filled_in=1, buffer_filled_out=0, buffer_read_in=1
conn=0xcda3060, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0xcda3060, query=' '
conn=0xcda3060, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0xcda3060, query='set DateStyle to 'ISO''
conn=0xcda3060, query='set extra_float_digits to 2'
conn=0xcda3060, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0xcda3060, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0xcda3060, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0xcda3060, query='CREATE OR REPLACE FUNCTION median (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
median(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q10 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.1,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q90 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.9,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q75 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.75,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION q25 (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
quantile(x,0.25,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION minimum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
min(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION maximum (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
max(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION mean (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
mean(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION sd (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION se (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
sd(x,na.rm=TRUE)/sqrt(length(x))'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION length (float[]) RETURNS float AS '
x<-arg1
x<-as.numeric(as.character(x))
x<-na.omit(x)
length(x)'
LANGUAGE 'plr' STRICT;

CREATE OR REPLACE FUNCTION PSuitable (float[],float[],float,float,float) RETURNS float AS '
x<-arg1
q<-arg2
depth<-arg3
ht<-arg4
tide<-arg5
depth<-depth+tide
x2<-q[x>=depth&x<=ht]
x2<-max(x2)-min(x2)
if(is.na(x2))x2<-0
if(x2==-Inf)x2<-0
x2'
LANGUAGE 'plr' STRICT;

'
conn=0x1953c890, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1953c890, query=' '
conn=0x1953c890, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1953c890, query='set DateStyle to 'ISO''
conn=0x1953c890, query='set extra_float_digits to 2'
conn=0x1953c890, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1953c890, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1953c890, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1953c890, query='
                 drop table if exists grat;
                 create table grat as
                 select s.* from
                 (select
                  geom::geometry(polygon,3857),
                 st_area(st_transform(geom,4326)::geography)/1000000 areakm2,
                 minimum(vals) min,
                 q10(vals) q10,
                 q25(vals) q25,
                 median(vals) median,
                 mean(vals) mean,
                 q75(vals) q75,
                 q90(vals) q90,
                 maximum(vals) max
                 from
                 (select st_envelope(st_tile(rast,33,33)) geom,
                 st_tile(rast,33,33) rast,
                 (st_dumpvalues(st_tile(rast,33,33))).valarray vals
                 from dem) d
                 ) s
                 where min>-10 and max < 10 and min <1000000000000;'
conn=0x1953c890, query='
ALTER TABLE grat ADD COLUMN rid BIGSERIAL PRIMARY KEY;
CREATE INDEX grat_gix ON grat USING GIST (geom);
ALTER TABLE grat ADD COLUMN psuitable numeric(3);
'
conn=0x10ff1ee0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x10ff1ee0, query=' '
conn=0x10ff1ee0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x10ff1ee0, query='set DateStyle to 'ISO''
conn=0x10ff1ee0, query='set extra_float_digits to 2'
conn=0x10ff1ee0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x10ff1ee0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x10ff1ee0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x10ff1ee0, query='update grat set psuitable = PSuitable(array[min,q10,q25,median,q75,q90,max],array[0,10,25,50,75,90,100],-0.2,0.2,0);'
conn=0x10ff6460, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x10ff6460, query=' '
conn=0x10ff6460, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x10ff6460, query='set DateStyle to 'ISO''
conn=0x10ff6460, query='set extra_float_digits to 2'
conn=0x10ff6460, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x10ff6460, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x10ff6460, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x10ff6460, query='create table tmp as
select g.*,
med median_dem,
mn mean_dem
from 
grat g,
(select 
t2.rid,
median((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) med,
mean((st_dumpvalues(st_union(st_clip(rast,geom)))).valarray) mn
from dem t,
(select * from grat) t2
where st_intersects(rast,geom)
group by t2.rid) s
where s.rid=g.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
CREATE INDEX grat_gix ON grat USING GIST (geom);'
conn=0x1956cba0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1956cba0, query=' '
conn=0x1956cba0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1956cba0, query='set DateStyle to 'ISO''
conn=0x1956cba0, query='set extra_float_digits to 2'
conn=0x1956cba0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1956cba0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1956cba0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1956cba0, query='
drop table if exists tmp;
create table tmp as
select gg.*,s.station from
grat gg,
(select g.rid,min(station) station from 
grat g,
tide_regime t
where st_intersects(t.geom,g.geom)
group by rid,g.geom) s
where s.rid=gg.rid;
drop table grat;
ALTER TABLE tmp RENAME TO grat;
alter table grat add CONSTRAINT prec_pkey PRIMARY KEY(rid );
CREATE INDEX grat_gix ON grat USING GIST (geom);'
NOTICE from backend during send_query: 'NOTICE:  table "tmp" does not exist, skipping'
conn=0x1956cba0, PGAPI_Disconnect
conn=0x10ff6460, PGAPI_Disconnect
conn=0x10ff1ee0, PGAPI_Disconnect
conn=0x1953c890, PGAPI_Disconnect
conn=0xcda3060, PGAPI_Disconnect
conn=0x129dac10, PGAPI_Disconnect
conn=0x1535d560, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x1535d560, query=' '
conn=0x1535d560, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x1535d560, query='set DateStyle to 'ISO''
conn=0x1535d560, query='set extra_float_digits to 2'
conn=0x1535d560, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x1535d560, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x1535d560, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x1535d560, query='
drop table if exists tides;
create table tides
(
station integer,
name varchar(6),
time timestamp,
ht float
);'
conn=0x1007a270, PGAPI_Disconnect
conn=0x15f33cd0, PGAPI_Disconnect
conn=0x19510ec0, PGAPI_Disconnect
conn=0x15f33cd0, PGAPI_DriverConnect( in)='DSN=brant', fDriverCompletion=0
DSN info: DSN='brant',server='postgis',port='',dbase='brant',user='docker',passwd='xxxxx'
          onlyread='0',protocol='8.2.5',showoid='',fakeoidindex='',showsystable=''
          conn_settings='(null)', conn_encoding='(null)'
          translation_dll='',translation_option=''
Driver Version='09.03.0300,201405140001'
Global Options: fetch=100, socket=4096, unknown_sizes=0, max_varchar_size=255, max_longvarchar_size=8190
                disable_optimizer=0, ksqo=1, unique_index=1, use_declarefetch=0
                text_as_longvarchar=1, unknowns_as_longvarchar=0, bools_as_char=1 NAMEDATALEN=64
                extra_systable_prefixes='dd_;', conn_settings='(null)' conn_encoding=''
conn=0x15f33cd0, query=' '
conn=0x15f33cd0, query='select version()'
    [ fetched 1 rows ]
    [ PostgreSQL version string = 'PostgreSQL 9.5.5 on x86_64-pc-linux-gnu, compiled by gcc (Debian 4.9.2-10) 4.9.2, 64-bit' ]
    [ PostgreSQL version number = '9.5' ]
conn=0x15f33cd0, query='set DateStyle to 'ISO''
conn=0x15f33cd0, query='set extra_float_digits to 2'
conn=0x15f33cd0, query='select oid, typbasetype from pg_type where typname = 'lo''
    [ fetched 0 rows ]
    [ Large Object oid = -999 ]
conn=0x15f33cd0, query='select pg_client_encoding()'
    [ fetched 1 rows ]
    [ Client encoding = 'SQL_ASCII' (code = 0) ]
conn=0x15f33cd0, PGAPI_DriverConnect(out)='DSN=brant;DATABASE=brant;SERVER=postgis;PORT=5432;UID=docker;PWD=docker;SSLmode=disable;ReadOnly=0;Protocol=8.2.5;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;ConnSettings=;Fetch=100;Socket=4096;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=1;Optimizer=0;Ksqo=1;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;CancelAsFreeStmt=0;ExtraSysTablePrefixes=dd_;;LFConversion=0;UpdatableCursors=1;DisallowPremature=0;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=0;UseServerSidePrepare=1;LowerCaseIdentifier=0;'
conn=0x15f33cd0, query='
drop table if exists climate;
create table climate
(
date date,
element varchar(6),
value float
);'
conn=0x15f33cd0, PGAPI_Disconnect
conn=0x1535d560, PGAPI_Disconnect
